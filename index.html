<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Kplus712 â€” Home</title>
  <meta name="theme-color" content="#2e8b57">
  <style>
    :root{
      --green: #2e8b57;
      --muted: #555;
      --card-radius: 12px;
      --maxw: 1100px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: "Poppins", system-ui, Arial;
      background:#fff;
      color:#222;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      line-height:1.5;
    }

    /* Announcement bar (top of home) */
    .announcement-wrap{
      background:var(--green);
      color:#fff;
      overflow:hidden;
      position:relative;
    }
    .announcement-inner{
      max-width:var(--maxw);
      margin:0 auto;
      padding:10px 16px;
      display:flex;
      align-items:center;
      gap:12px;
    }
    .announcement-text{
      white-space:nowrap;
      display:inline-block;
      font-weight:700;
      cursor:pointer;
      padding:6px 0;
      animation: scroll-left 18s linear infinite;
    }
    .announcement-cta{
      margin-left:12px;
      background:rgba(255,255,255,0.12);
      color:#fff;
      padding:8px 12px;
      border-radius:8px;
      font-weight:700;
      border:1px solid rgba(255,255,255,0.12);
      cursor:pointer;
    }
    @keyframes scroll-left{
      0% { transform: translateX(100%); }
      100% { transform: translateX(-100%); }
    }

    /* layout header + nav minimal */
    nav{background:#fff;border-bottom:1px solid #eee;padding:.8rem 1rem;position:sticky;top:0;z-index:40}
    nav .inner{max-width:var(--maxw);margin:0 auto;display:flex;align-items:center;justify-content:space-between}
    nav a{color:var(--green);text-decoration:none;margin:0 .6rem;font-weight:600}

    .hero{max-width:var(--maxw);margin:24px auto;padding:16px}
    .hero h1{color:var(--green);margin:6px 0;font-size:clamp(20px,3.6vw,32px)}
    .hero p{color:var(--muted);margin:6px 0 0}

    /* Modal popup */
    .modal-backdrop{
      position:fixed;inset:0;background:rgba(0,0,0,0.5);display:none;align-items:center;justify-content:center;z-index:60;padding:16px;
    }
    .modal{
      width:100%;max-width:820px;border-radius:14px;background:linear-gradient(180deg,var(--green),#1f6a45);color:#fff;padding:20px;box-shadow:0 20px 50px rgba(0,0,0,0.4);overflow:hidden;
      display:grid;grid-template-columns:1fr 420px;gap:18px;
    }
    @media(max-width:900px){ .modal{grid-template-columns:1fr;max-width:560px} }

    .modal-left{padding:8px 6px;}
    .modal h2{margin:6px 0 10px;font-size:20px}
    .modal p.lead{color:rgba(255,255,255,0.94);margin:0 0 10px}
    .modal ul{margin:10px 0 0;padding-left:18px;color:rgba(255,255,255,0.95)}
    .modal .btn-row{margin-top:14px;display:flex;gap:8px;flex-wrap:wrap}
    .btn-white{background:#fff;color:var(--green);border:none;padding:10px 14px;border-radius:10px;font-weight:700;cursor:pointer}
    .btn-outline{background:transparent;color:#fff;border:1px solid rgba(255,255,255,0.18);padding:10px 14px;border-radius:10px;cursor:pointer}

    /* booking card inside modal (right column) */
    .booking-card{background:#fff;border-radius:12px;padding:14px;color:#222}
    .booking-card h3{margin:0 0 6px;color:var(--green)}
    .field{margin-top:8px}
    .field label{display:block;font-size:13px;color:#444;margin-bottom:6px}
    .field input,.field select,.field textarea{
      width:100%;padding:10px;border-radius:8px;border:1px solid #ddd;font-size:14px;
    }
    .small-muted{font-size:13px;color:#666;margin-top:6px}
    .pay-summary{background:#f7f7f7;border-radius:8px;padding:8px;margin-top:10px;font-size:13px;color:#333}

    .booking-actions{display:flex;gap:8px;margin-top:12px;align-items:center}
    .book-btn{background:var(--green);color:#fff;padding:10px 12px;border-radius:8px;border:none;font-weight:700;cursor:pointer}
    .close-x{background:transparent;border:0;color:rgba(255,255,255,0.9);cursor:pointer;font-size:18px;margin-left:auto}

    /* success stories */
    .stories{display:flex;gap:12px;align-items:center;margin-top:12px}
    .story{background:rgba(255,255,255,0.07);padding:8px;border-radius:10px;display:flex;gap:8px;align-items:center}
    .story img{width:56px;height:56px;object-fit:cover;border-radius:8px;border:2px solid rgba(255,255,255,0.12)}
    .story .meta{font-size:13px}
    .story .meta b{display:block;color:#fff}

    /* small responsive tweaks */
    @media(max-width:520px){
      .announcement-inner{padding:10px}
      .announcement-cta{display:none}
      .modal{padding:16px}
      .modal h2{font-size:18px}
    }

    /* footer / rest of home quick layout */
    .content{max-width:var(--maxw);margin:18px auto;padding:12px}
    .section-card{background:#fff;border-radius:10px;padding:14px;border:1px solid #eee;margin-bottom:12px}
  </style>
</head>
<body>

  <!-- Announcement bar (not in nav) -->
  <div class="announcement-wrap" aria-hidden="false">
    <div class="announcement-inner">
      <div class="announcement-text" id="announcementTxt" role="button" tabindex="0" aria-label="Service Recovery Coaching. Tap to learn more.">
        ðŸ“¢ New! Weekend <strong>Service Recovery Coaching</strong> â€” master customer recovery & loyalty. Tap to learn more & book.
      </div>
      <button class="announcement-cta" id="announcementBtn">Jifunze Zaidi</button>
    </div>
  </div>

  <!-- Minimal nav / existing site header -->
  <nav aria-label="Main navigation">
    <div class="inner">
      <div style="font-weight:700;color:var(--green)">Kplus712</div>
      <div>
        <a href="index.html">Home</a>
        <a href="business-knowledge.html">Business Knowledge</a>
        <a href="about.html">About Us</a>
        <a href="contact.html">Contact</a>
        <a href="services.html">Services</a>
      </div>
    </div>
  </nav>

  <div class="hero">
    <div style="max-width:var(--maxw);margin:0 auto;padding:0 16px">
      <h1>Welcome to Kplus712</h1>
      <p>Daily business tips, short lessons and practical coaching for entrepreneurs. Scroll down to explore.</p>
    </div>
  </div>

  <main class="content" role="main">
    <!-- Example sections kept minimal so announcement appears at top -->
    <section class="section-card">
      <h3>Daily Tip (sample)</h3>
      <p class="small-muted">Today: Keep 10% of revenue as emergency reserve. (Auto-updates available)</p>
    </section>

    <section class="section-card">
      <h3>Business Knowledge</h3>
      <p class="small-muted">Short courses, case studies and growth stages â€” available in Business Knowledge page.</p>
    </section>
  </main>

  <!-- Modal popup (hidden by default) -->
  <div class="modal-backdrop" id="modalBackdrop" aria-hidden="true" role="dialog" aria-modal="true">
    <div class="modal" role="document">
      <!-- left: details + call to book -->
      <div class="modal-left">
        <button class="close-x" id="closeModal" aria-label="Close">&times;</button>
        <h2>ðŸŒ¿ Service Recovery Coaching</h2>
        <p class="lead">Huduma hii inalenga kukusaidia kurejesha wateja waliopotea, kuboresha utoaji wa huduma, na kujenga imani ya wateja. Mafunzo ni ya vitendo na yanalenga matokeo.</p>

        <ul>
          <li><strong>Wakati:</strong> Jumamosi (asubuhi) na Jumapili (jioni).</li>
          <li><strong>Mbinu:</strong> Mafunzo ya vitendo kupitia WhatsApp, assignments na follow-up.</li>
          <li><strong>Matokeo:</strong> Kuboresha uhusiano wa wateja, kuongezeka kwa referrals na mauzo.</li>
        </ul>

        <div class="btn-row">
          <button class="btn-white" id="openBooking">ðŸ“˜ Book Now</button>
          <button class="btn-outline" id="learnMore">Soma module ya sample</button>
        </div>

        <div style="margin-top:12px;">
          <div style="color:rgba(255,255,255,0.9);font-weight:700;margin-bottom:6px">Success Stories</div>
          <div class="stories">
            <div class="story">
              <img src="assets/fred-vunjabei.jpg" alt="Fred Vunjabei (success)">
              <div class="meta"><b>Fred Vunjabei</b><span style="color:#fff;opacity:0.9">From small sales to strong brand presence.</span></div>
            </div>
            <div class="story">
              <img src="assets/david-sportswear.jpg" alt="David Sportswear (success)">
              <div class="meta"><b>David Sportswear</b><span style="color:#fff;opacity:0.9">Scaled from market stall to local brand.</span></div>
            </div>
          </div>
        </div>
      </div>

      <!-- right: booking form card -->
      <div class="booking-card" id="bookingCard" aria-hidden="true">
        <h3>Reserve your seat</h3>
        <p class="small-muted">Fill the form below. After submitting you'll be redirected to WhatsApp to confirm booking.</p>

        <form id="bookingForm" autocomplete="on">
          <div class="field">
            <label for="fullname">Jina Kamili</label>
            <input id="fullname" name="fullname" type="text" required placeholder="Jina kamili">
          </div>

          <div class="field">
            <label for="education">Elimu</label>
            <select id="education" name="education" required>
              <option value="">-- Chagua --</option>
              <option value="Primary">Primary (PSLE)</option>
              <option value="O-Level">O-Level (CSEE)</option>
              <option value="A-Level">A-Level (ACSEE)</option>
              <option value="Certificate">Certificate</option>
              <option value="Diploma">Diploma</option>
              <option value="Bachelor">Bachelor</option>
              <option value="Masters">Masters / Postgraduate</option>
            </select>
          </div>

          <div class="field">
            <label for="location">Sehemu unayoishi</label>
            <input id="location" name="location" type="text" required placeholder="Mfano: Dar es Salaam">
          </div>

          <div class="field">
            <label for="gender">Jinsia</label>
            <select id="gender" name="gender" required>
              <option value="">-- Chagua --</option>
              <option value="Mwanaume">Mwanaume</option>
              <option value="Mwanamke">Mwanamke</option>
            </select>
          </div>

          <div class="field">
            <label for="phone">Namba ya WhatsApp</label>
            <input id="phone" name="phone" type="tel" required placeholder="+255 6xx xxx xxx">
          </div>

          <div class="field">
            <label for="preferred">Siku ya Mafunzo</label>
            <select id="preferred" name="preferred" required>
              <option value="">-- Chagua --</option>
              <option value="Saturday morning">Jumamosi (Asubuhi)</option>
              <option value="Sunday evening">Jumapili (Jioni)</option>
            </select>
          </div>

          <div class="field">
            <label for="fees">Ada (Tsh)</label>
            <select id="fees" name="fees" required>
              <option value="">-- Chagua kiwango --</option>
              <option value="500">Tsh 500 â€” Mafunzo ya msingi (10â€“15 min)</option>
              <option value="1000">Tsh 1,000 â€” Mafunzo ya kina (30 min)</option>
              <option value="5000">Tsh 5,000 â€” Mafunzo ya kina + assignment (60 min)</option>
              <option value="10000">Tsh 10,000 â€” Kozi kamili + certificate</option>
            </select>
          </div>

          <div class="pay-summary" id="paySummary" aria-live="polite">
            <strong>Summary:</strong> Tafadhali chagua ada ili kuona muda utakaotumika na matokeo.
          </div>

          <div class="booking-actions">
            <button type="submit" class="book-btn">âœ… Book Now</button>
            <button type="button" class="btn-outline" id="cancelBooking">Cancel</button>
          </div>
        </form>

        <div id="bookingNote" class="small-muted" style="margin-top:10px">
          * Baada ya kukamilisha utapelekwa WhatsApp kudhibitisha malipo na ratiba.
        </div>
      </div>
    </div>
  </div>

  <footer style="max-width:var(--maxw);margin:18px auto;padding:12px;text-align:center;color:var(--muted)">
    Â© 2025 Kplus712 â€” All rights reserved.
  </footer>

  <script>
    // DOM
    const announcementText = document.getElementById('announcementTxt');
    const announcementBtn = document.getElementById('announcementBtn');
    const modalBackdrop = document.getElementById('modalBackdrop');
    const closeModal = document.getElementById('closeModal');
    const openBooking = document.getElementById('openBooking');
    const bookingCard = document.getElementById('bookingCard');
    const learnMoreBtn = document.getElementById('learnMore');
    const cancelBooking = document.getElementById('cancelBooking');

    // open modal (details)
    function showModal(){
      modalBackdrop.style.display = 'flex';
      modalBackdrop.setAttribute('aria-hidden','false');
      // ensure booking panel hidden initially
      bookingCard.style.display = 'none';
      bookingCard.setAttribute('aria-hidden','true');
    }
    function hideModal(){
      modalBackdrop.style.display = 'none';
      modalBackdrop.setAttribute('aria-hidden','true');
    }

    announcementText.addEventListener('click', showModal);
    announcementBtn.addEventListener('click', showModal);
    closeModal.addEventListener('click', hideModal);
    modalBackdrop.addEventListener('click', (e)=> { if(e.target===modalBackdrop) hideModal(); });

    // open booking form inside modal
    openBooking.addEventListener('click', ()=> {
      bookingCard.style.display = 'block';
      bookingCard.setAttribute('aria-hidden','false');
      bookingCard.scrollIntoView({behavior:'smooth'});
    });

    // sample learn more action (could show module sample)
    learnMoreBtn.addEventListener('click', ()=> {
      alert('Sample module: Service Recovery â€” lessons include: Customer apology scripts, Root cause fixes, Follow-up plays. (This can be expanded into a sample PDF or page.)');
    });

    cancelBooking.addEventListener('click', ()=> {
      // hide booking card, back to details
      bookingCard.style.display = 'none';
      bookingCard.setAttribute('aria-hidden','true');
    });

    // dynamic fee summary
    const fees = document.getElementById('fees');
    const paySummary = document.getElementById('paySummary');
    fees.addEventListener('change', ()=> {
      const v = fees.value;
      if(!v){ paySummary.innerHTML = '<strong>Summary:</strong> Tafadhali chagua ada ili kuona muda utakaotumika na matokeo.'; return; }
      let txt = '';
      if(v==='500') txt = '10â€“15 min â€” Intro & quick tips (suitable as taster).';
      if(v==='1000') txt = '30 min â€” Practical lesson & short task.';
      if(v==='5000') txt = '60 min â€” Deep lesson + assignment + review.';
      if(v==='10000') txt = 'Full program â€” multi-session + certificate.';
      paySummary.innerHTML = `<strong>Summary:</strong> Tsh ${v} â€” ${txt}`;
    });

    // booking submit â†’ open whatsapp with prefilled message
    const bookingForm = document.getElementById('bookingForm');
    bookingForm.addEventListener('submit', (e)=> {
      e.preventDefault();
      const name = document.getElementById('fullname').value.trim();
      const education = document.getElementById('education').value;
      const location = document.getElementById('location').value.trim();
      const gender = document.getElementById('gender').value;
      const phone = document.getElementById('phone').value.trim();
      const preferred = document.getElementById('preferred').value;
      const fee = document.getElementById('fees').value;

      if(!name || !education || !location || !gender || !phone || !preferred || !fee){
        alert('Tafadhali jaza fomu yote kabla ya kutuma.');
        return;
      }

      // message template
      const msg = `ðŸŒŸ Service Recovery Booking ðŸŒŸ%0A%0AJina: ${encodeURIComponent(name)}%0AElimu: ${encodeURIComponent(education)}%0AEneo: ${encodeURIComponent(location)}%0AJinsia: ${encodeURIComponent(gender)}%0AWhatsApp: ${encodeURIComponent(phone)}%0APrefered: ${encodeURIComponent(preferred)}%0AFee: Tsh ${encodeURIComponent(fee)}%0A%0ATafadhali thibitisha ratiba na maelekezo ya malipo.`;

      // open WhatsApp chat - change to your phone if different
      const wa = `https://wa.me/255622266932?text=${msg}`;
      window.open(wa, '_blank');

      // show a quick thank you inside modal and optionally hide form
      bookingCard.innerHTML = '<div style="padding:20px;font-size:16px;color:#222"><strong>Asante!</strong><p>Umefanikiwa kutuma ombi la booking. Tutakutumia ujumbe wa uthibitisho kupitia WhatsApp muda si mrefu.</p><button onclick="window.location.reload()" style="margin-top:12px;padding:8px 12px;border-radius:8px;border:0;background:var(--green);color:#fff;font-weight:700;cursor:pointer">Funga</button></div>';
    });

    // accessibility: keyboard open
    announcementText.addEventListener('keydown', (e)=>{ if(e.key === 'Enter' || e.key === ' ') showModal(); });

    // NOTE: images should be placed in repo at assets/fred-vunjabei.jpg and assets/david-sportswear.jpg
  </script>
</body>
</html>
